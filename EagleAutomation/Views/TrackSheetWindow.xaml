<Window x:Class="EagleAutomation.Views.TrackSheetWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Track Sheet - Eagle Automation"
        Height="900" Width="1600"
        Style="{StaticResource DarkWindow}"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Title Bar -->
            <RowDefinition Height="Auto"/> <!-- Navigation -->
            <RowDefinition Height="*"/>    <!-- Main Content -->
            <RowDefinition Height="Auto"/> <!-- Action Bar -->
        </Grid.RowDefinitions>

        <!-- Title Bar -->
        <Border Grid.Row="0" Background="#1F1F1F" BorderBrush="#3C3C3C" BorderThickness="0,0,0,1" Padding="30,20">
            <TextBlock Text="Track Sheet - Eagle Automation"
                      FontSize="24"
                      FontWeight="SemiBold"
                      Foreground="White"/>
        </Border>

        <!-- Navigation Tabs -->
        <Border Grid.Row="1" Background="#2D2D30" BorderBrush="#3C3C3C" BorderThickness="0,0,0,1" Padding="30,15">
            <StackPanel Orientation="Horizontal">
                <Button Content="Console" Style="{StaticResource NavButton}"/>
                <Button Content="Mix Edit" Style="{StaticResource NavButton}"/>
                <Button Content="Events" Style="{StaticResource NavButton}"/>
                <Button Content="Track Sheet" Style="{StaticResource NavButton}" IsEnabled="False" Background="#0078D4" Foreground="White"/>
                <Button Content="Preferences" Style="{StaticResource NavButton}"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                <!-- Session Information Header -->
                <Border Background="#2D2D30" CornerRadius="12" BorderBrush="#3C3C3C" BorderThickness="1" Padding="25" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="SESSION INFORMATION" Foreground="#0078D4" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                <TextBlock Text="MIX NAME" Style="{StaticResource FormLabel}" Margin="0,0,0,5"/>
                                <TextBox x:Name="MixNameText" Text="Untitled_001" Style="{StaticResource DarkTextBox}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="0,0,20,0">
                                <TextBlock Text="SESSION DATE" Style="{StaticResource FormLabel}" Margin="0,0,0,5"/>
                                <TextBox x:Name="SessionDateText" Text="2025-10-26" Style="{StaticResource DarkTextBox}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="ENGINEER" Style="{StaticResource FormLabel}" Margin="0,0,0,5"/>
                                <TextBox x:Name="EngineerNameText" Text="" Style="{StaticResource DarkTextBox}"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Help Text -->
                <Border Background="rgba(0,120,212,0.1)" BorderBrush="#0078D4" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                    <TextBlock TextWrapping="Wrap" Foreground="#E0E0E0" FontSize="13" LineHeight="22">
                        <Run FontWeight="Bold" Foreground="#0078D4">Navigation:</Run>
                        <Run Text=" Use "/>
                        <Run FontWeight="Bold">TAB</Run>
                        <Run Text=" to advance to next field (right then down), "/>
                        <Run FontWeight="Bold">Arrow Keys</Run>
                        <Run Text=" to move between fields, and "/>
                        <Run FontWeight="Bold">SPACE</Run>
                        <Run Text=" to clear field contents. The first "/>
                        <Run FontWeight="Bold">4 characters</Run>
                        <Run Text=" of Mix and Chan labels will appear on the Console window under each channel."/>
                    </TextBlock>
                </Border>

                <!-- Quick Actions -->
                <Border Background="#2D2D30" CornerRadius="12" BorderBrush="#3C3C3C" BorderThickness="1" Padding="20,15" Margin="0,0,0,20">
                    <Grid>
                        <TextBlock Text="QUICK ACTIONS:" Foreground="#888" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="Clear All Labels" Style="{StaticResource SmallButton}" Margin="8,0"/>
                            <Button Content="Clear All Notes" Style="{StaticResource SmallButton}" Margin="8,0"/>
                            <Button Content="Auto-Number Channels" Style="{StaticResource SmallButton}" Margin="8,0"/>
                            <Button Content="Import from Clipboard" Style="{StaticResource SmallButton}" Margin="8,0"/>
                            <Button Content="Export to Clipboard" Style="{StaticResource SmallButton}" Margin="8,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Track Sheet Table -->
                <Border Background="#2D2D30" CornerRadius="12" BorderBrush="#3C3C3C" BorderThickness="1" Padding="20">
                    <DataGrid x:Name="TrackSheetDataGrid"
                             Background="#1E1E1E"
                             Foreground="#E0E0E0"
                             BorderThickness="0"
                             AutoGenerateColumns="False"
                             CanUserAddRows="False"
                             CanUserDeleteRows="False"
                             CanUserResizeRows="False"
                             CanUserSortColumns="False"
                             HeadersVisibility="Column"
                             GridLinesVisibility="Horizontal"
                             HorizontalGridLinesBrush="#3C3C3C"
                             SelectionMode="Single"
                             RowBackground="#1E1E1E"
                             AlternatingRowBackground="Transparent">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="#1E1E1E"/>
                                <Setter Property="Foreground" Value="#0078D4"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="FontSize" Value="12"/>
                                <Setter Property="Padding" Value="15,12"/>
                                <Setter Property="BorderBrush" Value="#0078D4"/>
                                <Setter Property="BorderThickness" Value="0,0,0,2"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow">
                                <Setter Property="Background" Value="#1E1E1E"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="rgba(0,120,212,0.05)"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </DataGrid.RowStyle>
                        <DataGrid.Columns>
                            <!-- Channel Number Column -->
                            <DataGridTextColumn Header="CHANNEL" Width="100" Binding="{Binding Channel}" IsReadOnly="True">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="#0078D4"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="14"/>
                                        <Setter Property="FontFamily" Value="Consolas"/>
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                            </DataGridTextColumn>

                            <!-- Mix Label Column -->
                            <DataGridTemplateColumn Header="MIX LABEL" Width="200">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBox Text="{Binding MixLabel, UpdateSourceTrigger=PropertyChanged}"
                                                    MaxLength="16"
                                                    Background="#1E1E1E"
                                                    Foreground="#E0E0E0"
                                                    BorderBrush="#3C3C3C"
                                                    BorderThickness="1"
                                                    Padding="8"
                                                    FontFamily="Consolas"
                                                    FontWeight="SemiBold"
                                                    Width="120"/>
                                            <TextBlock Text="{Binding MixLabelCount}"
                                                      Foreground="#666"
                                                      FontSize="10"
                                                      Margin="5,0,0,0"
                                                      VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>

                            <!-- Chan Label Column -->
                            <DataGridTemplateColumn Header="CHAN LABEL" Width="200">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBox Text="{Binding ChanLabel, UpdateSourceTrigger=PropertyChanged}"
                                                    MaxLength="16"
                                                    Background="#1E1E1E"
                                                    Foreground="#E0E0E0"
                                                    BorderBrush="#3C3C3C"
                                                    BorderThickness="1"
                                                    Padding="8"
                                                    FontFamily="Consolas"
                                                    FontWeight="SemiBold"
                                                    Width="120"/>
                                            <TextBlock Text="{Binding ChanLabelCount}"
                                                      Foreground="#666"
                                                      FontSize="10"
                                                      Margin="5,0,0,0"
                                                      VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>

                            <!-- Notes Column -->
                            <DataGridTemplateColumn Header="NOTES" Width="*">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBox Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                                                Background="#1E1E1E"
                                                Foreground="#E0E0E0"
                                                BorderBrush="#3C3C3C"
                                                BorderThickness="1"
                                                Padding="8"
                                                MinWidth="250"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Action Bar -->
        <Border Grid.Row="3" Background="#2D2D30" BorderBrush="#3C3C3C" BorderThickness="0,1,0,0" Padding="30,20">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <Button Content="Save Track Sheet" Style="{StaticResource PrimaryButton}" Margin="0,0,10,0"/>
                    <Button Content="Load Track Sheet" Style="{StaticResource SecondaryButton}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Print" Style="{StaticResource SecondaryButton}" Margin="0,0,10,0"/>
                    <Button Content="Export CSV" Style="{StaticResource SecondaryButton}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
